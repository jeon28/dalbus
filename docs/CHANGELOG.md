# Changelog - 2026.02.16

Dalbus 프로젝트의 주요 업데이트 및 변경 사항을 기록합니다.

---

## [v2.2] 주문 자동화 및 운영 도구 고도화 (2026.02.16)

### 🚀 주문 매칭 및 자동화 (Order Assignment & Automation)
- **신규/연장 주문 매칭 통합**: 신규 및 연장 주문의 배정 프로세스를 하나의 모달 UI로 통합하여 운영 효율 개선.
- **Tidal ID/PW 자동 생성**: 
    - 고객 이메일을 기반으로 고유한 Tidal ID 자동 생성 (중복 체크 포함).
    - 고객 연락처를 시드(Seed)로 사용하는 보안 비밀번호 자동 생성.
- **배정 즉시 관리 연동**: 배정 완료 후 해당 마스터 계정의 Tidal 관리 페이지가 새 탭에서 열리도록 개선.
- **주무 조회 API 수정**: 비회원 주문 조회가 비정상적으로 작동하던 API(`/api/orders/lookup`) 오류 수정 및 보안 강화.

### 🧹 데이터베이스 고도화 (Database Optimization)
- **스키마 정규화**: `orders` 테이블에 중복 저장되던 `start_date`, `end_date` 컬럼을 제거하고 `order_accounts`로 일원화.
- **데이터 클렌징**: 잘못 기입된 날짜 데이터 및 비정규화된 필드 동기화 수행.

### 🛠 운영 도구 및 유틸리티 (Internal Tools)
- **로거(Logger) 유틸리티 도입**: `debug`, `info`, `warn`, `error` 레벨을 지원하는 Java 스타일의 커스텀 로거(`src/lib/logger.ts`) 구현.
- **환경 변수 제어**: `NEXT_PUBLIC_LOG_LEVEL`을 통한 실시간 로그 레벨 제어 기능 추가.

---

## [v2.1] 관리자 기능 보강 (2026.02.09)

### 🔐 인증 시스템 (Auth & Validation)
- **회원가입 UX 최적화**: 
    - 아이디(이메일) 형식 실시간 검증 및 에러 메시지 시각화 개선 (빨간색 텍스트).
    - 입력 오류 시 포커스가 다른 필드로 넘어가지 않고 해당 필드에 유지되도록 수정.
    - 비밀번호 강도(6자 이상) 및 비밀번호 확인 일치 불일치 체크 로직 강화.
- **버튼 디자인 보정**: '가입하기' 버튼의 텍스트 색상을 검은색(#000000)으로 고정하여 시인성 확보.

### 📢 지원 페이지 (Support Pages)
- **공지사항(Notices) 구현**: Supabase `notices` 테이블 연동, 중요 공지 고정(Pinned) 및 카테고리별 배지 시스템 적용.
- **FAQ 페이지 구현**: `faqs` 테이블 연동 및 카테고리 필터링이 가능한 아코디언 컴포넌트 구현.
- **데이터 로딩 개선**: 데이터 로딩 중 스피너 표시 및 상세 에러 로깅(`JSON.stringify`) 적용으로 디버깅 편의성 증대.

### 📁 프로젝트 구조 및 관리 (Operations)
- **README 이동**: 접근성 향상을 위해 `docs/README.md`를 루트 디렉토리로 이동.
- **데이터 시딩 강화**: 개발 및 관리자 대시보드 테스트를 위한 대규모 샘플 데이터(`004_sample_test_data.sql`) 추가.
- **이미지 최적화**: 서비스 목록의 이미지가 깨지는 현상을 해결하기 위해 SVG 포맷 및 경로 최적화.

---

## [Supabase 백엔드 통합]
- **인증 시스템**: Supabase Auth를 연동하여 실제 회원가입 및 로그인 기능 구현.
- **실시간 데이터**: `ServiceContext`를 통해 Supabase DB의 서비스 및 가격 정보를 실시간으로 연동.
- **주문 및 매칭**: 서비스 상세 페이지에서 실제 주문 생성 로직 구현 및 마이페이지에서 배정된 계정 정보 확인 가능.
- **어드민 대시보드**: DB 기반 실시간 매출 통계 및 주문 내역 조회 기능 구현.

---
*2026-02-07 - Antigravity AI Assistant*
