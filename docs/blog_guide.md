# Antigravity와 함께하는 '계정 공유 사이트' 만들기 가이드 (Hands-on)

이 블로그 포스트는 강력한 AI 코딩 어시스턴트인 **Antigravity**를 활용하여, 고가의 구독 서비스를 저렴하게 공유할 수 있는 플랫폼을 기획부터 배포까지 직접 따라하며 만드는 과정을 담고 있습니다.

---

## 🚀 프로젝트 개요: 무엇을 만드나요?

우리가 만들 프로젝트명은 **[달버스(Dalbus)]**입니다. 
Tidal, Netflix와 같은 프리미엄 계정을 여러 사용자가 안전하게 공유하고, 관리자는 이를 효율적으로 배정 및 관리할 수 있는 서비스입니다.

### 핵심 기능
- **사용자**: 회원가입, 사용자 인증, 서비스 구독결제, 마이페이지
- **관리자 (Admin 메뉴)**: 
    - 주문 관리 (결제 상태 및 내역 확인)
    - 계정 관리 (공유 계정 풀 및 실시간 배정)
    - 상품/가격 관리 (서비스 및 요금제 설정)
    - 공지사항/FAQ 관리
    - Q&A 문의 관리 및 답변
    - 이메일 알림 발송 (Resend 연동)

---

## 📝 1단계: 요구사항 정의하기 (prd.md)

서비스를 만들기 전 가장 먼저 해야 할 일은 '무엇을 만들지' 명확히 정의하는 것입니다. Antigravity에게 다음과 같이 요청하여 `prd.md` 파일을 생성하세요.

> **Antigravity 요청 예시:**
> "계정 공유 사이트 '달버스'를 만들려고 해. 주요 기능은 상품 목록, 결제, 마이페이지, 관리자 대시보드야. 이를 바탕으로 상세한 요구사항 정의서(prd.md)를 작성해줘."

### Antigravity가 만들어주는 내용
- **프로젝트 비전**: 서비스의 목적과 핵심 목표
- **사용자 여정 (User Flow)**: 구매자와 관리자의 이용 흐름
- **요구사항 리스트 (Backlog)**: 구현해야 할 기능들의 리스트와 우선순위

---

## 🛠️ 2단계: 기술 내용 정의하기 (techspec.md)

PRD가 완성되었다면, 이를 어떤 기술로 구현할지 설계도가 필요합니다.

> **Antigravity 요청 예시:**
> "작성된 prd.md를 기반으로 기술 설계서(techspec.md)를 작성해줘. Next.js 15 App Router, Supabase, Vercel, Tailwind CSS를 사용할 거야. DB 스키마와 API 구조를 포함해줘."

### 핵심 기술 스택
- **Framework**: Next.js 15 (최신 App Router 활용)
- **Database/Auth**: Supabase (PostgreSQL 및 실시간 인증 지원)
- **Styling**: Tailwind CSS & shadcn/ui (세련된 UI 구성)
- **Email**: Resend (결제 및 배정 알림 이메일 발송)

---

## ⚙️ 3단계: 사전 준비하기 (Preparation)

코딩을 시작하기 전, 다음 서비스들에 가입하고 기본 설정을 마쳐야 합니다.

1. **Antigravity**: 여러분의 최강 코딩 파트너입니다.
2. **Supabase 가입 및 MCP 등록**: 
   - [Supabase](https://supabase.com/)에서 프로젝트를 생성하고 `URL`과 `Anon Key`를 챙기세요.
   - **MCP(Model Context Protocol) 등록**: Antigravity에 Supabase MCP를 연결하면 DB 스키마를 직접 조회하고 쿼리를 실행하는 것이 훨씬 수월해집니다.
   - **MCP의 장점**: 복잡한 SQL 마이그레이션 파일을 직접 복사/붙여넣기 할 필요 없이, Antigravity가 DB 구조를 실시간으로 파악하여 더 정확한 코드를 제안합니다.
3. **Vercel 가입**: 배포를 담당할 [Vercel](https://vercel.com/) 계정을 준비합니다.
4. **Resend 가입**: 이메일 발송을 위해 [Resend](https://resend.com/) API 키를 발급받으세요.

---

## 🎨 4단계: 화면 설계서 구상하기

Antigravity는 단순히 코드만 짜는 것이 아니라, UI의 흐름도 설계할 수 있습니다.

> **Antigravity 요청 예시:**
> "요구사항에 맞춰 화면 설계를 도와줘. 랜딩 페이지, 로그인, 마이페이지, 어드민 주문 관리 화면에 들어갈 주요 요소들을 정리해줘."

Antigravity는 각 화면별 ID와 주요 컴포넌트 구성을 표로 정리해 줍니다. 이를 바탕으로 `src/components` 구조를 잡게 됩니다.

---

## 💻 5단계: 본격적인 코딩 및 개발 (Step-by-Step 프롬프트)

Antigravity와 함께라면 환경 설정부터 기능 구현까지 순차적인 프롬프트로 완벽하게 진행할 수 있습니다. 한 번에 모든 것을 하려 하기보다, 작은 단위로 나누어 질문하는 것이 핵심입니다.

### 5.1 환경 구성 및 초기화
먼저, 개발을 위한 기본 뼈대를 잡습니다.

> **프롬프트 1 (프로젝트 생성):**
> "Next.js 15, TypeScript, Tailwind CSS를 사용하는 새로운 프로젝트를 최신 App Router 구조로 생성해줘. 프로젝트 이름은 'dalbus'야."

> **프롬프트 2 (라이브러리 및 UI 초기화):**
> "shadcn/ui를 초기화하고, `button`, `card`, `input`, `dialog`, `badge` 컴포넌트를 설치해줘. 그리고 Supabase 클라이언트 SDK(`@supabase/supabase-js`, `@supabase/ssr`)와 이메일 발송을 위한 `resend` 라이브러리도 설치해줘."

### 5.2 데이터베이스 및 보안 (Back-End)
데이터가 흐를 길을 먼저 닦는 과정입니다.

> **프롬프트 3 (DB 스키마 작성):**
> "techspec.md의 ERD 설계를 바탕으로 Supabase 마이그레이션 SQL 파일을 작성해줘. `users`, `products`, `orders` 테이블 간의 관계를 정의하고, 본인 정보만 볼 수 있도록 RLS(Row Level Security) 정책도 철저하게 세워줘."

### 5.3 사용자 경험 및 인증 (Auth & UX)
사용자가 처음 만나는 기능을 구현합니다.

> **프롬프트 4 (인증 로직 구현):**
> "Supabase Auth를 활용해서 회원가입, 로그인 기능을 구현해줘. 회원가입 시에는 이름과 전화번호를 필수 입력받고, 이 데이터는 `profiles` 테이블에 자동으로 동기화되도록 트리거도 함께 구성해줘."

### 5.4 핵심 서비스 화면 (Main Features)
본격적으로 돈을 벌어다 줄 핵심 기능을 순차적으로 개발합니다.

> **프롬프트 5 (상품 카탈로그):**
> "DB에서 상품 정보를 실시간으로 fetch하여 보여주는 상품 목록 페이지를 만들어줘. 디자인은 Glassmorphism 스타일을 적용한 카드 그리드로 구성하고, 각 카드는 클릭 시 상세 페이지로 연결해줘."

> **프롬프트 6 (결제 및 관리자 배정):**
> "사용자가 상품을 구매(결제 대기)하면 관리자 대시보드에서 이를 확인하고, 계정 정보를 입력하여 배정할 수 있는 어드민 기능을 만들어줘. 배정이 완료되면 Resend를 통해 사용자에게 안내 메일이 발송되게 해줘."

---

### 💡 Antigravity 활용 팁: "대화형 개발"
프롬프트를 던진 후 Antigravity가 코드를 작성하다 막히거나 에러가 나면, 당황하지 말고 **"에러 메시지"를 그대로 복사해서 다시 질문하세요.** Antigravity는 문맥을 이해하기 때문에 즉시 해결책을 제시해 줍니다.

---

## 🌐 6단계: 서비스 배포하기 (Deployment)

개발이 완료되었다면 로컬 테스트부터 실제 서버 배포까지 단계별로 진행합니다.

### 6.1 로컬 테스트 및 최종 점검
배포 전, 로컬 환경에서 결함이 없는지 확인해야 합니다.

1. **개발 서버 실행**: `npm run dev`로 모든 기능이 정상 작동하는지 확인합니다.
2. **프로덕션 빌드 체크**: `npm run build`를 실행하여 타입 에러나 린트 에러가 없는지 최종 확인합니다.

### 6.2 GitHub 배포 및 Vercel 연동
1. 코드를 GitHub 저장소에 푸시합니다.
2. Vercel 대시보드에서 `New Project`를 클릭하고 해당 저장소를 연결합니다.
3. 환경 변수(`.env`)를 Vercel 설정에 추가하고 `Deploy`를 클릭합니다.

### 6.3 최종 릴리즈 프롬프트 (Release & Push)
배포 시에는 변경 사항을 문서화하고 정리하는 과정이 필요합니다. Antigravity에게 다음과 같이 요청하세요.

> **프롬프트 10 (릴리즈 준비 및 푸시):**
> "이제 배포를 하려고 해. 먼저 이번 작업 내용을 바탕으로 `CHANGELOG.md`를 최신화해주고, 관련 문서(docs/)들도 업데이트가 필요하면 수정해줘. 모든 정리가 끝나면 스테이징에 올리고 'feat: release version v1.0.0' 메시지와 함께 GitHub에 push해줘."

---

## 🛡️ 7단계: 버전 관리와 복구 (Git & Antigravity)

코딩 과정에서 실수는 필연적입니다. Antigravity와 함께 Git을 활용하면 작업을 안전하게 보호하고, 잘못된 코드를 즉시 이전 상태로 되돌릴 수 있습니다.

### 7.1 단계별 커밋 생활화
기능 하나가 완성될 때마다 Git에 기록(Commit)을 남기는 습관이 중요합니다.

> **프롬프트 7 (작업 내용 커밋):**
> "방금 구현한 '로그인 기능'의 변경 사항을 메인 브랜치에 커밋해줘. 커밋 메시지는 'feat: add supabase auth login'으로 해줘."

### 7.2 작업 복구하기 (Undo & Revert)
실수로 코드가 꼬였거나, 기능이 작동하지 않을 때 Antigravity에게 복구를 요청할 수 있습니다.

> **프롬프트 8 (변경 사항 취소):**
> "방금 수정한 내용 때문에 빌드 에러가 나. 가장 최근 커밋 상태로 소스 코드를 되돌려줘(git checkout .)."

> **프롬프트 9 (이전 시점으로 롤백):**
> "어제 작업했던 시점으로 돌아가고 싶어. 커밋 히스토리를 보여주고, 내가 선택한 시점으로 코드를 리셋해줘."

### 7.3 안전한 개발을 위한 팁
- **작업 전 상태 확인**: 새로운 기능을 시작하기 전 "현재 Git 상태(Status)를 확인해주고, 안 남긴 커밋이 있다면 알려줘"라고 요청하세요.
- **브랜치 활용**: 큰 실험을 할 때는 "새로운 기능 실험을 위해 `feature-test` 브랜치를 만들고 거기로 이동해줘"라고 요청하여 메인 코드를 안전하게 보호하세요.
- **Antigravity에게 검토 요청**: 커밋하기 전 "방금 작성한 코드에 문제는 없는지, 보안상 취약점은 없는지 검토해줘"라고 요청하면 더 완벽한 결과물을 만들 수 있습니다.

---

## 🚀 Antigravity 200% 활용 꿀팁 (Efficiency & Tips)

더 빠르고 효율적으로, 토큰 사용량을 아끼면서 개발하는 유용한 팁들입니다.

### 🏎️ 반복 작업 효율화
- **워크플로우(Workflow) 요청**: "자주 하는 DB 마이그레이션과 테스트 과정을 .agent/workflows 에 워크플로우 파일로 만들어줘"라고 요청하세요. 다음부터는 슬래시 명령어 하나로 복잡한 과정을 자동화할 수 있습니다.
- **일괄 수정**: "이 프로젝트의 모든 버튼 컴포넌트에 동일한 hover 효과를 일괄 적용해줘"와 같이 패턴화된 작업을 한 번에 요청하세요.

### 💎 토큰(Token) 절약 및 효율성 팁
- **필요한 파일만 열기**: 전체 프로젝트를 다 읽게 하기보다 "현재 수정 중인 `page.tsx`와 관련된 `types/` 파일만 참고해서 작업해줘"라고 범위를 좁히면 토큰을 아끼고 속도도 빨라집니다.
- **압축적인 피드백**: "코드 전체를 다시 짜지 말고, 에러가 난 15번 라인의 타입 정의 부분만 수정해줘"라고 요청하면 불필요한 코드 생성을 줄일 수 있습니다.
- **결과물 형식 지정**: "설명은 생략하고 코드 블록만 바로 보여줘"라고 요청하면 토큰 낭비를 줄이고 필요한 결과만 빠르게 얻을 수 있습니다.

---

## ✨ 마치며

Antigravity를 활용하면 복잡한 '계정 공유 사이트'도 단 며칠 만에 고퀄리티로 완성할 수 있습니다. 
기획(PRD)부터 설계(TechSpec), 실제 개발과 배포, 그리고 효율적인 운영 팁까지 Antigravity는 여러분의 의도를 정확히 파악하여 완벽한 결과물을 만들어줄 것입니다.

지금 바로 Antigravity와 함께 나만의 플랫폼 개발을 시작해보세요!
