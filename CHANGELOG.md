# Changelog - 2026-02-09

## 📧 주문 알림 시스템 구현
- **관리자 이메일 알림**:
    - 주문 접수 시 관리자에게 이메일 자동 발송 기능 구현
    - Resend API를 활용한 `sendAdminOrderNotification` 유틸리티 생성
    - 주문 정보 (고객명, 연락처, 서비스, 금액, 요금제) 포함
- **보안 강화**:
    - 클라이언트에서 직접 DB 접근 제거
    - `/api/orders` 서버 API 라우트 생성하여 주문 생성 및 알림 로직 분리

## 🔍 관리자 주문 관리 고도화
- **Multi-Select 필터**:
    - **Status 필터**: 여러 주문 상태(주문신청, 입금확인, 배정완료, 작업완료)를 동시 선택하여 필터링
    - `DataTableFacetedFilter` 재사용 가능 컴포넌트 생성
    - shadcn/ui 컴포넌트(`popover`, `command`, `checkbox`, `separator`, `badge`) 추가
- **전화번호 검색**:
    - 전화번호 입력 필드를 통한 실시간 검색 기능
    - Status 필터와 전화번호 검색을 동시 적용 가능
- **UI 개선**:
    - 필터를 오른쪽 정렬로 배치하여 가독성 향상
    - 전화번호 검색 → Status 필터 순서로 배치

## 📊 Excel 내보내기 기능 추가
- **주문 내역 Export**:
    - 회원 주문과 비회원 주문을 별도 시트로 분리하여 `.xlsx` 형식 다운로드
    - 각 시트에 날짜, 주문번호, 고객명, 이메일, 연락처, 서비스, 이용기간, 금액, 상태 포함
- **Tidal 계정 Export**:
    - 마스터 계정 정보 (마스터 ID, 결제 계정, 결제일, 메모) 표시
    - 각 마스터 계정마다 6개 고정 Slot 정보를 하위 행으로 표시 (빈 슬롯은 공란)
    - Slot 정보: 고객명, 주문번호, 소속 ID, 소속 PW, 시작일, 종료일
- **xlsx 라이브러리 설치**: `npm install xlsx`

## 📱 모바일 UI/UX 최적화 (기존)
- **헤더 리팩토링**:
    - 모바일 화면에서 브랜드 로고 상시 노출
    - 모바일에서 숨겨져 있던 주 메뉴(서비스, 공지사항, FAQ, Q&A)를 가로 스크롤 형태로 상시 노출 처리
    - 메뉴명 간소화: '서비스 목록' → **'서비스'**
- **반응형 디자인**:
    - 모바일 기기에서의 버튼 크기, 텍스트 가독성 및 터치 편의성 조정

## 🛒 주문 및 결제 프로세스 개선 (기존)
- **주문 완료 전용 페이지 신설**:
    - 기존 브라우저 `alert()` 알림을 전용 결과 페이지(`/public/checkout/success`)로 대체
    - 주문 내역 요약(서비스명, 이용 기간, 결제 금액, 입금자명, 입금 계좌) 시각화
- **결제 UI 디테일**:
    - '전체동의' 시 '구독하기' 버튼 색상을 **검정색 배경/흰색 글자**로 명확하게 변경
    - 이용 기간(개월 수) 정보가 누락되지 않도록 체크아웃 및 결과 페이지 로직 보완

## 📊 주문 내역 관리 강화 (기존)
- **이용 기간 표시 추가**:
    - **관리자**: 주문 내역 목록에서 각 주문의 구독 기간(개월)을 바로 확인할 수 있도록 수정
    - **사용자**: 마이페이지 '내 구독 정보' 카드에 이용 기간 정보 추가
- **마이페이지 최적화**:
    - DB v2.0 스키마 변경 사항에 맞춰 마이페이지 데이터 로드 로직 전면 수정 및 최적화

## 📢 공지사항 및 FAQ 관리 시스템 고도화 (기존)
- **공지사항 관리 기능**:
    - 관리자 전용 공지사항 CRUD(생성, 조회, 수정, 삭제) 기능 구현
    - 공지사항 상단 고정(Pin) 및 게시 상태 설정 기능 추가
    - 동적 카테고리 시스템 도입 (`notice_categories` 테이블 생성 및 연동)
- **FAQ 개선**:
    - 사용자 페이지에서 '1:1 문의하기' 섹션 제거 요청 반영
    - 관리자 FAQ 카테고리 관리 기능 안정화

## 🛠️ 기술적 수정 사항
- **API 안정화**: 주문 생성 API(`/api/orders`) 구현 및 예외 처리
- **이메일 라이브러리**: Resend 통합 (`npm install resend`)
- **Excel 라이브러리**: xlsx 통합 (`npm install xlsx`)
- **린트 오류 해결**: 사용하지 않는 타입 제거 및 타입 정의 보완
- **환경변수**: `RESEND_API_KEY` 추가 (.env.local)
